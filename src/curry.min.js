"use strict";function noop(){}function getStyleProperty(e,t){return window.getComputedStyle(e,null).getPropertyValue(t)}function isObject(e){let t=typeof e;return null!=e&&("object"==t||"function"==t)}function isArray(e){return Array.isArray(e)}function isNil(e){return null==e}function from(e,t=0){return Array.from({length:e},(e,n)=>n+t)}function isNodeMap(e){return void 0!==e.length}function undef(e,t){return isNil(e)?t:e}function isFunction(e){return"[object Function]"==Object.prototype.toString.call(e)}function bez(...e){if("string"==typeof e[0]&&1===e.length){const t={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]},n=e[0];if(t[n])return`cubic-bezier(${t[n].join(",")})`;throw Error(`Selected easing function "${n}" doesn't exist.`)}return`cubic-bezier(${e.map(e=>Math.max(Math.min(e,1),0)).join(",")})`}function bindListener(e,t,n,i,r){e.addEventListener(t,t=>{n({event:t,e:t,self:e,$util:$util,$state:i})},r)}function map(e,t){if(isNodeMap(e))for(let n=0;n<e.length;n++){if(t(e[n],n))break}}function render(e,t,n){return("string"==typeof t||"number"==typeof t||Array.isArray(t))&&(n=t,t={}),isNil(n)||(Array.isArray(n)?"string"==typeof n[0]&&(n=n[0]):n=`${n}`),{tag:e,attrs:t,children:n}}function getSiblingIndex(e){if(!e)return 0;let t=0,n=e;for(;null!=(n=n.previousElementSibling);)t++;return t}function createElement(e,t,n){if(isArray(e))return void e.map(e=>createElement(e,t,n));const i=e.el=document.createElement(e.tag);if(e.attrs)for(const t in e.attrs){let n=e.attrs[t];i.setAttribute(t,n)}switch(e.children&&("string"==typeof e.children?i.textContent=e.children:e.children.forEach(e=>{"string"==typeof e?i.textContent+=" "+e:createElement(e,i)})),n){case"prepend":t.parentNode.insertBefore(i,t);break;case"append":t.parentNode.insertBefore(i,t.nextSibling);break;case"prependchild":t.insertBefore(i,t.firstChild);break;case"appendchild":default:t.appendChild(i)}return i}const formatAnimationOptions=(e={})=>({length:undef(e.length,500),easing:undef(e.easing,"ease-in-out"),callback:e.callback}),$util={getStyleProperty:getStyleProperty,isObject:isObject,isArray:isArray,isNil:isNil,isFunction:isFunction,from:from,render:render,isElements:isNodeMap,mapElements:map,getSiblingIndex:getSiblingIndex,undef:undef,bez:bez};function queryElement(e){return isObject(e)||e.nodeType?[e]:document.querySelectorAll(e)}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).$=t()}(this,function(){const e={},t=i=>{let r;if(!i)throw Error("Selector cannot be empty.");if("string"==typeof i&&i.startsWith("$"))switch(i){case"$state":return e;case"$util":return $util;default:throw Error("Unsupported magic selector.")}r=queryElement(i),t.get=(e=>{if(r&&0!==r.length){if(e&&isNodeMap(r)){const t=[];return map(r,n=>{n[e]&&t.push(n[e])}),t}return r}}),t.del=(()=>{r&&map(r,e=>{e.remove()})}),t.on=((n,i,s)=>r&&0!==r.length?(map(r,t=>{bindListener(t,n,i,e,s)}),t):t),t.css=((e,n)=>r&&0!==r.length?e?"string"==typeof e&&"string"==typeof n?(map(r,t=>{t.style[e]=n}),!0):isObject(e)?(Object.entries(e).map(([e,t])=>{map(r,n=>{n.style[e]=t})}),!0):void 0:(console.warn("[$.css] No style entered, this chain node will be skipped."),t):t),t.addClass=(e=>r&&0!==r.length?e&&0!==e.length?isArray(e)?(map(r,t=>{e.map(e=>t.classList.add(e))}),t):"string"==typeof e?(map(r,t=>{t.classList.add(e)}),t):void 0:(console.warn("[$.addClass] No class name(s) entered, this chain node will be skipped."),t):t),t.delClass=(e=>r&&0!==r.length?e&&0!==e.length?isArray(e)?(map(r,t=>{e.map(e=>t.classList.remove(e))}),t):"string"==typeof e?(map(r,t=>{t.classList.remove(e)}),t):void 0:(console.warn("[$.delClass] No class name(s) entered, this chain node will be skipped."),t):t),t.toggleClass=(e=>{if(!r||0===r.length)return t;if(!e||0===e.length)return console.warn("[$.toggleClass] No class name(s) entered, this chain node will be skipped."),t;const n=(e,t)=>{t.classList.contains(e)?t.classList.remove(e):t.classList.add(e)};if(isArray(e))return map(r,t=>{e.map(e=>n(e,t))}),t;"string"==typeof e&&map(r,t=>{n(e,t)})}),t.each=(n=>{if(!r||0===r.length)return t;if(!n)throw Error("Callback must be a function");let i=null;return map(r,(t,r)=>{n({self:t,prev:i,$util:$util,index:r,$state:e}),i=t}),t}),t.asyncEach=(async n=>{if(!r||0===r.length)return t;if(!n)throw Error("Callback must be a function");let i=null,s=0;for(const t of r)await new Promise(r=>n({self:t,prev:i,$util:$util,index:s,next:r,$state:e})),i=t,s+=1;return t}),t.nth=((i,s)=>{if(!r||0===r.length)return t;if(i>r.length)return console.warn(`[$.nth] Did not find element at specified index (${n}).`),t;if(i&&1!==i){for(let e=0;e<=r.length;e++)if(i-1===e){r=[r[e]];break}}else r=[r[0]];return s&&s({self:r[0],$util:$util,index:i,$state:e}),t}),t.nthChild=((n,i)=>{if(!r||0===r.length)return t;const s=[];return map(r,e=>{if(n>e.children.length)return console.warn(`[$.nthChild] Did not find element's child at specified index (${n}).`),!0;n&&1!==n?map(e.children,(e,t)=>{n-1===t&&s.push(e)}):s.push(e.firstElementChild)}),s.map(t=>{i&&i({self:t,$util:$util,$state:e})}),r=s,t}),t.children=(n=>{if(!r||0===r.length)return t;const i=[];return map(r,t=>{i.push(...t.children),n&&n({self:t,children:t.children,$util:$util,$state:e})}),r=i,t}),t.next=((e,t)=>s("next",e,t)),t.prev=((e,t)=>s("prev",e,t));const s=(n,i,s)=>{if(!r||0===r.length)return t;const a="next"===n?"nextElementSibling":"previousElementSibling";"number"!=typeof i&&(s=i,i=null);const l=[];return map(r,t=>{if(t[a])if(i){const n=t;for(let e=0;e<i;e++)if(t[a]){l.push(t[a]);break}s&&s({self:t,prev:n,index:getSiblingIndex(t),$util:$util,$state:e})}else s&&s({self:t[a],prev:t,index:getSiblingIndex(t[a]),$util:$util,$state:e}),l.push(t[a])}),r=l,t};t.first=(n=>r&&0!==r.length?(r=[r[0]],n&&n({self:r,$util:$util,$state:e}),t):t),t.last=(n=>{if(!r||0===r.length)return t;const i=r.length-1;return r=[r[i]],n&&n({self:r,$util:$util,index:i,$state:e}),t}),t.append=(n=>r&&0!==r.length?(map(r,t=>{const i="function"==typeof n?n({self:t,render:render,$util:$util,$state:e}):n;"string"==typeof i?t.insertAdjacentHTML("afterend",i):isNil(i)||createElement(i,t,"append")}),t):t),t.prepend=(n=>r&&0!==r.length?(map(r,t=>{const i="function"==typeof n?n({self:t,render:render,$util:$util,$state:e}):n;"string"==typeof i?t.insertAdjacentHTML("beforebegin",i):isNil(i)||createElement(i,t,"prepend")}),t):t),t.addChild=((n,i=!0)=>r&&0!==r.length?(map(r,t=>{const s="function"==typeof n?n({self:r,render:render,$util:$util,$state:e}):n;"string"==typeof s?t.insertAdjacentHTML(i?"beforeend":"afterbegin",s):isNil(s)||createElement(s,t,i?"appendchild":"prependchild")}),t):t),t.text=((e,n="replace")=>{if(!r||0===r.length)return t;if(!["replace","prepend","append","before","after"].includes(n))return console.warn(`Function $.text(text, location) doesn't accept parameter "${n}" as a valid argument.`,"Please use 'replace', 'prepend' or 'append'. This chain node will be skipped."),t;return map(r,t=>{((e,t,n)=>{switch(n){case"before":case"prepend":e.insertAdjacentText("afterbegin",t);break;case"after":case"append":e.insertAdjacentText("beforeend",t);break;default:case"replace":e.textContent=t}})(t,e,n)}),t}),t.show=((e="block")=>r&&0!==r.length?(map(r,t=>{t.style.display=e}),t):t),t.hide=(()=>r&&0!==r.length?(map(r,e=>{e.style.display="none"}),t):t),t.toggle=((e="block")=>{if(!r||0===r.length)return t;return map(r,n=>{((e,n,i)=>{e?t(n).hide():t(n).show(i)})("none"!==getStyleProperty(n,"display"),n,e)}),t}),t.hover=(e=>{if(!r||0===r.length)return t;if(isObject(e)&&!isFunction(e)){const{enter:n,leave:i,options:s}=e;n&&i?map(r,e=>{t(e).on("mouseenter",e=>n({...e}),s),t(e).on("mouseleave",e=>i({...e}),s)}):console.warn("[$.hover] Function $.hover({ enter, leave }) requires both parameters. This chain node will be skipped.")}else{if(!isFunction(e))return console.warn("[$.hover] Did no provide callback. This chain node will be skipped."),t;{const n=[];map(r,(i,r)=>{n.push(i.cloneNode(!0)),t(i).on("mouseenter",t=>e({...t})),t(i).on("mouseleave",()=>{const e=n[r];i.removeAttribute("style"),i.classList=e.classList,i.innerHTML=e.innerHTML})})}}return t}),t.click=((e,n)=>r&&e?(map(r,i=>{t(i).on("click",t=>e({...t}),n)}),t):t),t.parent=(n=>{if(!r||0===r.length)return;const i=[];return map(r,t=>{if(t.parentNode){const r=t.parentNode;n&&n({self:r,child:t,$util:$util,$state:e}),i.push(r)}}),r=i,t}),t.filter=(n=>{if(!r||0===r.length)return t;if(!n)return console.warn("[$.filter] No condition to iterate on, this chain node will be skipped."),t;const i=[];return map(r,(t,r)=>{n({self:t,index:r,$util:$util,$state:e})&&i.push(t)}),r=i,t}),t.animate=(async(n,i)=>{if(!r||!n)return t;if(i=formatAnimationOptions(i),isFunction(n)){const t=n;await t({self:r,$util:$util,start:async function(e,t){t=formatAnimationOptions(t);const n=[];return map(r,i=>{n.push(a(i,e,t))}),Promise.all(n)},$state:e})}else map(r,e=>{a(e,n,i)});return t});const a=async(t,n,i)=>{const{length:r,easing:s,callback:a}=i,l=t.style.transition;let o=r;return"string"==typeof r&&r.endsWith("s")&&(o=1e3*parseFloat(r.slice(0,-1))),t.style.transition=`${o/1e3}s all ${s}`,new Promise(e=>{Object.entries(n).map(([e,n])=>{const i=e;t.style[i]=n}),setTimeout(()=>e(),o)}).then(()=>{t.style.transition=l,a&&a({self:t,$util:$util,$state:e})})};return t.slideDown=((e=500,n="ease-in-out")=>{if(!r||0===r.length)return t;return map(r,i=>{(i=>{i.style.display="block",i.style.overflow="hidden",i.style.height=0;const r=i.scrollHeight;t(i).animate({height:r},{duration:e,easing:n,callback:({self:e})=>{e.style.overflow="inherit",e.style.height="inherit"}})})(i)}),t}),t.slideUp=((e=500,n="ease-in-out")=>{if(!r||0===r.length)return t;return map(r,i=>{(i=>{i.style.overflow="hidden",i.style.height=i.scrollHeight,setTimeout(()=>{t(i).animate({height:0},{duration:e,easing:n,callback:({self:e})=>{e.style.display="none"}})},1)})(i)}),t}),t.slideToggle=((e=500,n="ease-in-out")=>{if(!r||0===r.length)return t;return map(r,i=>{(i=>{"none"===getStyleProperty(i,"display")?t(i).slideDown(e,n):t(i).slideUp(e,n)})(i)}),t}),t.is=(e=>{if(!r||0===r.length)return!1;const t=(e,t)=>(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t);for(const n of r)if(t(n,e))return!0;return!1}),t.fadeIn=((e=1,n)=>r&&0!==r.length?e<0?(console.warn("[$.fadeIn] Supplied end value parameter of 0 or less. Please use $.fadeOut or $.fadeToggle for that. This chain node will be skipped."),t):(n=formatAnimationOptions(n),map(r,i=>{t(i).animate(({start:t})=>{t({opacity:e},n)})}),t):t),t.fadeOut=((e=0,n)=>r&&0!==r.length?e>=1?(console.warn("[$.fadeOut] Supplied end value parameter of 1 or greater. Please use $.fadeIn or $.fadeToggle for that. This chain node will be skipped."),t):(n=formatAnimationOptions(n),map(r,i=>{t(i).animate(({start:t})=>{t({opacity:e},n)})}),t):t),t.fadeToggle=((e=0,n=1,i)=>r&&0!==r.length?(i=formatAnimationOptions(i),map(r,r=>{const s=parseFloat(getStyleProperty(r,"opacity"));s>e?t(r).fadeOut(e,i):s<n&&t(r).fadeIn(n,i)}),t):t),t.attr=((e,n)=>r&&0!==r.length?e?n?void map(r,t=>{isArray(e)?isArray(n)?e.map((e,i)=>t.setAttribute(e,n[i])):e.map(e=>t.setAttribute(e,n)):isArray(n)?console.warn("[$.attr] Cannot set array of values to a single property."):t.setAttribute(e,n)}):isArray(e)?e.map(e=>r[0].getAttribute(e)):r[0].getAttribute(e):(console.warn("[$.attr] Did not provide required property name(s)."),!1):t),t};return t});